<div class="container" fxLayout="row wrap">
    <div fxFlex="100%">
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    Countries
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <mat-list>
                    <button mat-button
                    (click)="selectCountry('')"
                    color="primary">
                        All
                    </button>
                    <ng-container *ngFor="let country of (leagues$ | async | groupBy:'strCountry'); let last = last;">
                        <button mat-button
                        (click)="selectCountry(country.key)"
                        color="primary">
                            <img [src]="'https://www.thesportsdb.com/images/icons/flags/shiny/16/' + country.key +'.png'"
                            [matTooltip]="country.key"
                            alt="Logo"
                            width="20" />
                        </button>
                    </ng-container>
                </mat-list>
            </mat-card-content>
        </mat-card>
    </div>

    <div fxFlex="100%">
        <mat-card>
            <mat-card-header>
                <mat-card-title>
                    {{ store.league ? store.league.strSport : '' }} Leagues
                    {{ selectedCountry ? (' in ' + selectedCountry) : '' }}
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <ng-container *ngFor="let league of (leagues$ | async);">
                    <button mat-button
                    *ngIf="selectedCountry ? (league.strCountry === selectedCountry) : true"
                    color="primary">
                        <img *ngIf="league.strLogo || league.strBadge; else noImage"
                        [matTooltip]="league.strLeague"
                        [src]="league.strBadge ? league.strBadge : league.strLogo"
                        [alt]="league.strLeague"
                        width="50" />
                        <ng-template #noImage>
                            <p>{{ league.strLeague }}</p>
                        </ng-template>
                    </button>
                </ng-container>
            </mat-card-content>
        </mat-card>
    </div>
</div>
